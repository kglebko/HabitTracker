<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Habit Tracker ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–∏–≤—ã—á–µ–∫</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body class="light">
  <div class="app-grid">
    <header class="topbar">
      <div class="brand">Habit<span>Tracker</span></div>
      <div class="top-actions">
        <button id="themeToggle" class="icon-btn" title="–¢–µ–º–∞">üåì</button>
        <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç PNG</button>
      </div>
    </header>

    <!-- Left: habits list -->
    <aside class="sidebar">
      <div class="sidebar-head">
        <h3>–ü—Ä–∏–≤—ã—á–∫–∏</h3>
        <button id="addHabitBtn" class="btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <ul id="habitsList" class="habits-list">
        <!-- habits inserted here -->
      </ul>
      <div class="legend">
        <small>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–≤—ã—á–∫—É, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –µ—ë –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.</small>
      </div>
    </aside>

    <!-- Main: calendar -->
    <main class="main-area">
      <div class="calendar-header">
        <div class="month-nav">
          <button id="prevMonth" class="icon-btn">‚óÄ</button>
          <div id="currentMonth" class="month-title">–ú–µ—Å—è—Ü 2025</div>
          <button id="nextMonth" class="icon-btn">‚ñ∂</button>
        </div>
        <div class="selected-habit-info" id="selectedHabitInfo">
          <!-- habit name + icon -->
        </div>
        <div class="view-toggle">
          <button id="toggleViewMode" class="btn ghost">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏</button>
        </div>
      </div>

      <div id="calendar" class="calendar-grid">
        <!-- calendar days -->
      </div>
    </main>

    <!-- Right: stats -->
    <aside class="rightbar">
      <div id="statsCard" class="card stats-card">
        <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
        
        <!-- –ù–æ–≤—ã–µ —Ç–∞–±—ã –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ -->
        <div class="stats-period-toggle">
          <div class="tab-buttons">
            <button class="tab-btn active" data-period="week">–ù–µ–¥–µ–ª—è</button>
            <button class="tab-btn" data-period="month">–ú–µ—Å—è—Ü</button>
          </div>
        </div>

        <div class="progress-wrap">
          <svg id="progressSvg" viewBox="0 0 36 36" class="circular-chart">
            <path class="circle-bg"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"/>
            <path id="progressCircle" class="circle"
              stroke-dasharray="0,100"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"/>
            <text id="progressText" x="18" y="20.35" class="percentage">0%</text>
          </svg>
        </div>

        <div class="stats-list">
          <div>–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: <strong id="weekPercent">0%</strong></div>
          <div>–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–Ω–µ–π: <strong id="totalChecks">0/0</strong></div>
          <div>–†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞: <strong id="viewModeText">‚Äî</strong></div>
        </div>

        <div class="card-actions">
          <button id="deleteHabitBtn" class="btn danger">–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
        </div>
      </div>

      <div class="card tips">
        <h4>–°–æ–≤–µ—Ç—ã</h4>
        <ul>
          <li>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–≤—ã—á–∫—É, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∫–æ–Ω–∫—É –∏ —Ü–≤–µ—Ç.</li>
          <li>–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –¥–Ω—é –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ, —á—Ç–æ–±—ã –æ—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.</li>
          <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏" –¥–ª—è –æ–±—â–µ–≥–æ –æ–±–∑–æ—Ä–∞.</li>
          <li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</li>
        </ul>
      </div>
    </aside>
  </div>

  <!-- Modal: Add Habit -->
  <div id="addHabitModal" class="modal hidden">
    <div class="modal-content">
      <h3>–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</h3>
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ
        <input id="habitTitle" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–∏—Ç—å –≤–æ–¥—É"/>
      </label>
      <label>–¶–≤–µ—Ç
        <input id="habitColor" type="color" value="#4caf50"/>
      </label>
      <div>
        <div>–ò–∫–æ–Ω–∫–∞</div>
        <div id="iconChoices" class="icon-choices">
          <!-- icon options inserted here -->
        </div>
      </div>
      <div class="modal-actions">
        <button id="saveHabitBtn" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="cancelHabitBtn" class="btn ghost">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden"></div>

  <script src="app.js"></script>
</body>
</html>